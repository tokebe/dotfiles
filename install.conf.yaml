- defaults:
    link:
      create: true
      relink: true

- clean: ["~"]

- create:
    - ~/applications
    - ~/downloads

- shell:
    - command: git submodule sync --recursive
      description: Sync Submodules
      quiet: true
    - command: git submodule update --init --recursive
      description: Update Submodules
      quiet: true
    - command: ./zsh/setup
      description: Install ZSH for Humans
      quiet: true
      stdout: true
      stderr: true
      stdin: true
    - command: >-
        rm ~/applications/nvim.appimage;
        curl -L -o ~/applications/nvim.appimage https://github.com/neovim/neovim/releases/latest/download/nvim.appimage;
        chmod u+x ~/applications/nvim.appimage;
      description: Install nvim
      quiet: true
      stdout: true

- link:
    ~/.config/nvim: nvim
    ~/.p10k.zsh:
      path: zsh/.p10k.zsh
      force: true
    # ~/.zshrc:
    #   path: zsh/.zshrc
    #   force: true
    ~/.config/iosevka/config.ini:
      path: iosevka/config.ini
      force: true

- shell:
    - command: ~/applications/nvim.appimage --headless "+Lazy! sync" +qa
      description: Prepare Neovim
      quiet: true
    - command: ./iosevka/setup
      description: Generate Custom Iosevka Fonts
      quiet: true
      stdout: true
      stderr: true
      stdin: true
