- defaults:
    link:
      create: true
      relink: true
      force: true
    include:
      isolated: true

- clean: ["~"]

- create:
    - ~/applications
    - ~/downloads

- shell:
    - command: git submodule sync --recursive
      description: Sync Submodules
      quiet: true
    - command: git submodule update --init --recursive
      description: Update Submodules
      quiet: true
    - command: ./zsh/setup
      description: Install ZSH for Humans
      quiet: true
      stdout: true
      stderr: true
      stdin: true
    - command: ./nvim/setup
      description: Install nvim
      quiet: true
      stdout: true
      stderr: true
      stdin: true

- omnipkg:
    - update
    - upgrade
    - install:
        [
          unzip,
          ripgrep,
          fzf,
          fd,
          ranger,
          lazygit,
          lazydocker,
          neofetch,
          btop,
          luarocks,
          cmake,
          tldr,
          { brew: coreutils },
        ]

- link:
    # neovim
    ~/.config/nvim: nvim/config
    # zsh
    ~/.zshrc: zsh/.zshrc
    ~/.zshenv: zsh/.zshenv
    ~/.p10k.zsh: zsh/.p10k.zsh
    # iosevka font gen
    ~/.config/iosevka/config.ini: iosevka/config.ini
    # ranger config
    ~/.config/ranger: ranger

- shell:
    - command: zsh -c 'nvim --headless "+Lazy! sync" +qa'
      description: Prepare Neovim
      quiet: true
      stdout: true
      stderr: true
    - command: ./iosevka/setup
      description: Generate Custom Iosevka Fonts
      quiet: true
      stdout: true
      stderr: true
      stdin: true
